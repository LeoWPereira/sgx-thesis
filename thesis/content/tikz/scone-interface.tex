\begin{tikzpicture}[
	comp/.style={draw, text width=3cm, outer sep=0, minimum height=0.6cm, align=center},
	trusted/.style={comp},
	untrusted/.style={comp},
	label/.style={font=\bfseries}
]

\node [trusted] at (0,0) {Application code};
\node [trusted] at (0,-0.75) {Libraries};
\node [trusted] at (0,-1.5) {C Library};
\node [trusted] at (0,-2.25) {Library OS};
\node [trusted] at (0,-3) {Shielding Layer};

\node [untrusted] at (0,-4.5) {Host OS};

\node [trusted] at (5,0) {Application code};
\node [trusted] at (5,-0.75) {Libraries};
\node [trusted] at (5,-1.5) {Shim C Library};

\node [untrusted] at (5,-3.75) {C Library};
\node [untrusted] at (5,-4.5) {Host OS};

\node [trusted] at (10,0) {Application code};
\node [trusted] at (10,-0.75) {Libraries};
\node [trusted] at (10,-1.5) {C Library};
\node [trusted] at (10,-2.25) {Shielding Layer};

\node [untrusted] at (10,-4.5) {Host OS};

\begin{scope}[on background layer]
\draw[fill=greenbg]  (-1.75,0.5) rectangle (1.75,-3.5);
\draw[fill=greenbg]  (3.25,0.5) rectangle (6.75,-2);
\draw[fill=greenbg]  (8.25,0.5) rectangle (11.75,-2.75);
\end{scope}

\node [label] at (0,-5.5) {a)};
\node [label] at (5,-5.5) {b)};
\node [label] at (10,-5.5) {c)};

\draw[dashed]  (2.5,0.75) -- (2.5,-5);
\draw[dashed]  (7.5,0.75) -- (7.5,-5);
\end{tikzpicture}